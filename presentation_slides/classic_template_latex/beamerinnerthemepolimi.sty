\mode<presentation>

\usepackage{graphicx}
\usepackage{tikz}
\usepackage{epstopdf}
\usepackage{MnSymbol}

% Background
\defbeamertemplate*{background canvas}{polimi theme}%
{
 \includegraphics[height=\paperheight]{gfx/backGround}
}

\defbeamertemplate{background canvas}{polimi theme titlepagesimple}%
{
\includegraphics[height=\paperheight]{gfx/backGroundFirstPage}
 
}

\defbeamertemplate{background canvas}{polimi theme titlepagepolimi}%
{
  \begin{tikzpicture}
   \useasboundingbox (0,0) rectangle(\the\paperwidth,\the\paperheight);
   \node[inner sep=0pt] (background) at (\the\paperwidth/2, \the\paperheight/2){\includegraphics[height=\paperheight]{gfx/backGroundFirstPage}};
   \node[inner sep=0pt] (logo) at (0.13*\the\paperwidth,0.33*\the\paperheight)
     {\includegraphics[width=.20\textwidth]{gfx/logo-polimi}};
  \end{tikzpicture}
}
\defbeamertemplate{background canvas}{polimi theme titlepageairlab}%
{
   \begin{tikzpicture}
   \useasboundingbox (0,0) rectangle(\the\paperwidth,\the\paperheight);
   \node[inner sep=0pt] (background) at (\the\paperwidth/2, \the\paperheight/2){\includegraphics[height=\paperheight]{gfx/backGroundFirstPage}};
   \node[inner sep=0pt] (logo) at (0.13*\the\paperwidth,0.3455*\the\paperheight)
     {\includegraphics[width=.25\textwidth]{gfx/logo-airlab}};
  \end{tikzpicture}
}
\defbeamertemplate{background canvas}{polimi theme titlepagenecst}%
{
   \begin{tikzpicture}
   \useasboundingbox (0,0) rectangle(\the\paperwidth,\the\paperheight);
   \node[inner sep=0pt] (background) at (\the\paperwidth/2, \the\paperheight/2){\includegraphics[height=\paperheight]{gfx/backGroundFirstPage}};
   \node[inner sep=0pt] (logo) at (0.16*\the\paperwidth,0.17*\the\paperheight)
     {\includegraphics[width=.25\textwidth]{gfx/logo-necst}};
  \end{tikzpicture}
}


% Title page
\defbeamertemplate*{title page}{polimi}[1][]
{

    \vspace{.25cm}

    \begin{beamercolorbox}[sep=3pt,left,leftskip=3.6cm#1]{institute}
      \usebeamerfont{institute}\insertinstitute
    \end{beamercolorbox}

    \vspace{4.5cm}

    \begin{beamercolorbox}[sep=3pt,left,leftskip=3.6cm,#1]{title}
      \usebeamerfont{title}\inserttitle\par%
      \ifx\insertsubtitle\@empty%
      \else%
        \vskip0.25em%
        {\usebeamerfont{subtitle}\usebeamercolor[fg]{subtitle}\insertsubtitle\par}%
      \fi%     
    \end{beamercolorbox}%

    \vskip1em\par

    \begin{beamercolorbox}[sep=3pt,left,leftskip=3.6cm,ht=,#1]{author}
      \usebeamerfont{author}\textbf{\insertauthor}
    \end{beamercolorbox}
    
    \ifx\insertsupervisor\relax\relax\else
    \begin{beamercolorbox}[sep=3pt,left,leftskip=3.6cm,ht=,#1]{author}
        \usebeamerfont{author}\supervisortitle:~\insertsupervisor
    \end{beamercolorbox}\fi

    \vspace{.125cm}

    \begin{beamercolorbox}[sep=3pt,left,leftskip=3.6cm,#1]{date}
      \usebeamerfont{date}\insertdate
    \end{beamercolorbox}
    
  \vfill
}


% Table of contents
\setbeamertemplate{section in toc}[sections numbered]

% Lists
\defbeamertemplate*{itemize item}{polimi}{$\filledsquare$}
\defbeamertemplate*{itemize subitem}{polimi}{$\bullet$}
\defbeamertemplate*{itemize subsubitem}{polimi}{$\circ$}

\defbeamertemplate*{enumerate item}{polimi}{\insertenumlabel}
\defbeamertemplate*{enumerate subitem}{polimi}{\Roman{enumii}}
\defbeamertemplate*{enumerate subsubitem}{polimi}{\roman{enumiii}}

\mode
<all>